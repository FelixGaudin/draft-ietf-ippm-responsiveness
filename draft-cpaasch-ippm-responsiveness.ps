%!PS-Adobe-3.0
%%BoundingBox: 24 24 571 818
%%Title: Enscript Output
%%For: Christoph Paasch
%%Creator: GNU Enscript 1.6.6
%%CreationDate: Fri Mar  4 15:51:15 2022
%%Orientation: Portrait
%%Pages: (atend)
%%DocumentMedia: A4 595 842 0 () ()
%%DocumentNeededResources: (atend)
%%EndComments
%%BeginProlog
%%BeginResource: procset Enscript-Prolog 1.6 6
%
% Procedures.
%

/_S {	% save current state
  /_s save def
} def
/_R {	% restore from saved state
  _s restore
} def

/S {	% showpage protecting gstate
  gsave
  showpage
  grestore
} bind def

/MF {	% fontname newfontname -> -	make a new encoded font
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  % insert only valid encoding vectors
  encoding_vector length 256 eq {
    newfont /Encoding encoding_vector put
  } if

  newfontname newfont definefont pop
} def

/MF_PS { % fontname newfontname -> -	make a new font preserving its enc
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  newfontname newfont definefont pop
} def

/SF { % fontname width height -> -	set a new font
  /height exch def
  /width exch def

  findfont
  [width 0 0 height 0 0] makefont setfont
} def

/SUF { % fontname width height -> -	set a new user font
  /height exch def
  /width exch def

  /F-gs-user-font MF
  /F-gs-user-font width height SF
} def

/SUF_PS { % fontname width height -> -	set a new user font preserving its enc
  /height exch def
  /width exch def

  /F-gs-user-font MF_PS
  /F-gs-user-font width height SF
} def

/M {moveto} bind def
/s {show} bind def

/Box {	% x y w h -> -			define box path
  /d_h exch def /d_w exch def /d_y exch def /d_x exch def
  d_x d_y  moveto
  d_w 0 rlineto
  0 d_h rlineto
  d_w neg 0 rlineto
  closepath
} def

/bgs {	% x y height blskip gray str -> -	show string with bg color
  /str exch def
  /gray exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    gray setgray
    fill
  grestore
  x y M str s
} def

/bgcs { % x y height blskip red green blue str -> -  show string with bg color
  /str exch def
  /blue exch def
  /green exch def
  /red exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    red green blue setrgbcolor
    fill
  grestore
  x y M str s
} def

% Highlight bars.
/highlight_bars {	% nlines lineheight output_y_margin gray -> -
  gsave
    setgray
    /ymarg exch def
    /lineheight exch def
    /nlines exch def

    % This 2 is just a magic number to sync highlight lines to text.
    0 d_header_y ymarg sub 2 sub translate

    /cw d_output_w cols div def
    /nrows d_output_h ymarg 2 mul sub lineheight div cvi def

    % for each column
    0 1 cols 1 sub {
      cw mul /xp exch def

      % for each rows
      0 1 nrows 1 sub {
        /rn exch def
        rn lineheight mul neg /yp exch def
        rn nlines idiv 2 mod 0 eq {
	  % Draw highlight bar.  4 is just a magic indentation.
	  xp 4 add yp cw 8 sub lineheight neg Box fill
	} if
      } for
    } for

  grestore
} def

% Line highlight bar.
/line_highlight {	% x y width height gray -> -
  gsave
    /gray exch def
    Box gray setgray fill
  grestore
} def

% Column separator lines.
/column_lines {
  gsave
    .1 setlinewidth
    0 d_footer_h translate
    /cw d_output_w cols div def
    1 1 cols 1 sub {
      cw mul 0 moveto
      0 d_output_h rlineto stroke
    } for
  grestore
} def

% Column borders.
/column_borders {
  gsave
    .1 setlinewidth
    0 d_footer_h moveto
    0 d_output_h rlineto
    d_output_w 0 rlineto
    0 d_output_h neg rlineto
    closepath stroke
  grestore
} def

% Do the actual underlay drawing
/draw_underlay {
  ul_style 0 eq {
    ul_str true charpath stroke
  } {
    ul_str show
  } ifelse
} def

% Underlay
/underlay {	% - -> -
  gsave
    0 d_page_h translate
    d_page_h neg d_page_w atan rotate

    ul_gray setgray
    ul_font setfont
    /dw d_page_h dup mul d_page_w dup mul add sqrt def
    ul_str stringwidth pop dw exch sub 2 div ul_h_ptsize -2 div moveto
    draw_underlay
  grestore
} def

/user_underlay {	% - -> -
  gsave
    ul_x ul_y translate
    ul_angle rotate
    ul_gray setgray
    ul_font setfont
    0 0 ul_h_ptsize 2 div sub moveto
    draw_underlay
  grestore
} def

% Page prefeed
/page_prefeed {		% bool -> -
  statusdict /prefeed known {
    statusdict exch /prefeed exch put
  } {
    pop
  } ifelse
} def

% Wrapped line markers
/wrapped_line_mark {	% x y charwith charheight type -> -
  /type exch def
  /h exch def
  /w exch def
  /y exch def
  /x exch def

  type 2 eq {
    % Black boxes (like TeX does)
    gsave
      0 setlinewidth
      x w 4 div add y M
      0 h rlineto w 2 div 0 rlineto 0 h neg rlineto
      closepath fill
    grestore
  } {
    type 3 eq {
      % Small arrows
      gsave
        .2 setlinewidth
        x w 2 div add y h 2 div add M
        w 4 div 0 rlineto
        x w 4 div add y lineto stroke

        x w 4 div add w 8 div add y h 4 div add M
        x w 4 div add y lineto
	w 4 div h 8 div rlineto stroke
      grestore
    } {
      % do nothing
    } ifelse
  } ifelse
} def

% EPSF import.

/BeginEPSF {
  /b4_Inc_state save def    		% Save state for cleanup
  /dict_count countdictstack def	% Count objects on dict stack
  /op_count count 1 sub def		% Count objects on operand stack
  userdict begin
  /showpage { } def
  0 setgray 0 setlinecap
  1 setlinewidth 0 setlinejoin
  10 setmiterlimit [ ] 0 setdash newpath
  /languagelevel where {
    pop languagelevel
    1 ne {
      false setstrokeadjust false setoverprint
    } if
  } if
} bind def

/EndEPSF {
  count op_count sub { pos } repeat	% Clean up stacks
  countdictstack dict_count sub { end } repeat
  b4_Inc_state restore
} bind def

% Check PostScript language level.
/languagelevel where {
  pop /gs_languagelevel languagelevel def
} {
  /gs_languagelevel 1 def
} ifelse
%%EndResource
%%BeginResource: procset Enscript-Encoding-88591 1.6 6
/encoding_vector [
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclam       	/quotedbl     	/numbersign   	
/dollar       	/percent      	/ampersand    	/quoteright   	
/parenleft    	/parenright   	/asterisk     	/plus         	
/comma        	/hyphen       	/period       	/slash        	
/zero         	/one          	/two          	/three        	
/four         	/five         	/six          	/seven        	
/eight        	/nine         	/colon        	/semicolon    	
/less         	/equal        	/greater      	/question     	
/at           	/A            	/B            	/C            	
/D            	/E            	/F            	/G            	
/H            	/I            	/J            	/K            	
/L            	/M            	/N            	/O            	
/P            	/Q            	/R            	/S            	
/T            	/U            	/V            	/W            	
/X            	/Y            	/Z            	/bracketleft  	
/backslash    	/bracketright 	/asciicircum  	/underscore   	
/quoteleft    	/a            	/b            	/c            	
/d            	/e            	/f            	/g            	
/h            	/i            	/j            	/k            	
/l            	/m            	/n            	/o            	
/p            	/q            	/r            	/s            	
/t            	/u            	/v            	/w            	
/x            	/y            	/z            	/braceleft    	
/bar          	/braceright   	/tilde        	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclamdown   	/cent         	/sterling     	
/currency     	/yen          	/brokenbar    	/section      	
/dieresis     	/copyright    	/ordfeminine  	/guillemotleft	
/logicalnot   	/hyphen       	/registered   	/macron       	
/degree       	/plusminus    	/twosuperior  	/threesuperior	
/acute        	/mu           	/paragraph    	/bullet       	
/cedilla      	/onesuperior  	/ordmasculine 	/guillemotright	
/onequarter   	/onehalf      	/threequarters	/questiondown 	
/Agrave       	/Aacute       	/Acircumflex  	/Atilde       	
/Adieresis    	/Aring        	/AE           	/Ccedilla     	
/Egrave       	/Eacute       	/Ecircumflex  	/Edieresis    	
/Igrave       	/Iacute       	/Icircumflex  	/Idieresis    	
/Eth          	/Ntilde       	/Ograve       	/Oacute       	
/Ocircumflex  	/Otilde       	/Odieresis    	/multiply     	
/Oslash       	/Ugrave       	/Uacute       	/Ucircumflex  	
/Udieresis    	/Yacute       	/Thorn        	/germandbls   	
/agrave       	/aacute       	/acircumflex  	/atilde       	
/adieresis    	/aring        	/ae           	/ccedilla     	
/egrave       	/eacute       	/ecircumflex  	/edieresis    	
/igrave       	/iacute       	/icircumflex  	/idieresis    	
/eth          	/ntilde       	/ograve       	/oacute       	
/ocircumflex  	/otilde       	/odieresis    	/divide       	
/oslash       	/ugrave       	/uacute       	/ucircumflex  	
/udieresis    	/yacute       	/thorn        	/ydieresis    	
] def
%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Courier
/HFpt_w 10 def
/HFpt_h 10 def
/Courier-Bold /HF-gs-font MF
/HF /HF-gs-font findfont [HFpt_w 0 0 HFpt_h 0 0] makefont def
/Courier /F-gs-font MF
/F-gs-font 10 10 SF
/#copies 1 def
% Pagedevice definitions:
gs_languagelevel 1 gt {
  <<
    /PageSize [595 842] 
  >> setpagedevice
} if
/d_page_w 547 def
/d_page_h 794 def
/d_header_x 0 def
/d_header_y 794 def
/d_header_w 547 def
/d_header_h 0 def
/d_footer_x 0 def
/d_footer_y 0 def
/d_footer_w 547 def
/d_footer_h 0 def
/d_output_w 547 def
/d_output_h 794 def
/cols 1 def
%%EndSetup
%%Page: (1) 1
%%BeginPageSetup
_S
24 24 translate
/pagenum 1 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 737 M
(IP Performance Measurement                                     C. Paasch) s
5 726 M
(Internet-Draft                                                  R. Meyer) s
5 715 M
(Intended status: Experimental                                S. Cheshire) s
5 704 M
(Expires: September 5, 2022                                    O. Shapira) s
5 693 M
(                                                              Apple Inc.) s
5 682 M
(                                                               M. Mathis) s
5 671 M
(                                                             Google, Inc) s
5 660 M
(                                                          March 04, 2022) s
5 627 M
(                Responsiveness under Working Conditions) s
5 616 M
(                  draft-cpaasch-ippm-responsiveness-01) s
5 594 M
(Abstract) s
5 572 M
(   For many years, a lack of responsiveness, variously called lag,) s
5 561 M
(   latency, or bufferbloat, has been recognized as an unfortunate, but) s
5 550 M
(   common symptom in today's networks.  Even after a decade of work on) s
5 539 M
(   standardizing technical solutions, it remains a common problem for) s
5 528 M
(   the end users.) s
5 506 M
(   Everyone "knows" that it is "normal" for a video conference to have) s
5 495 M
(   problems when somebody else at home is watching a 4K movie or) s
5 484 M
(   uploading photos from their phone.  However, there is no technical) s
5 473 M
(   reason for this to be the case.  In fact, various queue management) s
5 462 M
(   solutions \(fq_codel, cake, PIE\) have solved the problem.) s
5 440 M
(   Our networks remain unresponsive, not from a lack of technical) s
5 429 M
(   solutions, but rather a lack of awareness of the problem.  We believe) s
5 418 M
(   that creating a tool whose measurement matches people's every day) s
5 407 M
(   experience will create the necessary awareness, and result in a) s
5 396 M
(   demand for products that solve the problem.) s
5 374 M
(   This document specifies the "RPM Test" for measuring responsiveness.) s
5 363 M
(   It uses common protocols and mechanisms to measure user experience) s
5 352 M
(   especially when the network is under working conditions.  The) s
5 341 M
(   measurement is expressed as "Round-trips Per Minute" \(RPM\) and should) s
5 330 M
(   be included with throughput \(up and down\) and idle latency as) s
5 319 M
(   critical indicators of network quality.) s
5 297 M
(Status of This Memo) s
5 275 M
(   This Internet-Draft is submitted in full conformance with the) s
5 264 M
(   provisions of BCP 78 and BCP 79.) s
5 242 M
(   Internet-Drafts are working documents of the Internet Engineering) s
5 231 M
(   Task Force \(IETF\).  Note that other groups may also distribute) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 1]) s
_R
S
%%Page: (2) 2
%%BeginPageSetup
_S
24 24 translate
/pagenum 2 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   working documents as Internet-Drafts.  The list of current Internet-) s
5 726 M
(   Drafts is at https://datatracker.ietf.org/drafts/current/.) s
5 704 M
(   Internet-Drafts are draft documents valid for a maximum of six months) s
5 693 M
(   and may be updated, replaced, or obsoleted by other documents at any) s
5 682 M
(   time.  It is inappropriate to use Internet-Drafts as reference) s
5 671 M
(   material or to cite them other than as "work in progress.") s
5 649 M
(   This Internet-Draft will expire on September 5, 2022.) s
5 627 M
(Copyright Notice) s
5 605 M
(   Copyright \(c\) 2022 IETF Trust and the persons identified as the) s
5 594 M
(   document authors.  All rights reserved.) s
5 572 M
(   This document is subject to BCP 78 and the IETF Trust's Legal) s
5 561 M
(   Provisions Relating to IETF Documents) s
5 550 M
(   \(https://trustee.ietf.org/license-info\) in effect on the date of) s
5 539 M
(   publication of this document.  Please review these documents) s
5 528 M
(   carefully, as they describe your rights and restrictions with respect) s
5 517 M
(   to this document.  Code Components extracted from this document must) s
5 506 M
(   include Simplified BSD License text as described in Section 4.e of) s
5 495 M
(   the Trust Legal Provisions and are provided without warranty as) s
5 484 M
(   described in the Simplified BSD License.) s
5 462 M
(Table of Contents) s
5 440 M
(   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3) s
5 429 M
(     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3) s
5 418 M
(   2.  Design Constraints  . . . . . . . . . . . . . . . . . . . . .   4) s
5 407 M
(   3.  Goals . . . . . . . . . . . . . . . . . . . . . . . . . . . .   4) s
5 396 M
(   4.  Measuring Responsiveness Under Working Conditions . . . . . .   5) s
5 385 M
(     4.1.  Working Conditions  . . . . . . . . . . . . . . . . . . .   5) s
5 374 M
(       4.1.1.  From single-flow to multi-flow  . . . . . . . . . . .   6) s
5 363 M
(       4.1.2.  Parallel vs Sequential Uplink and Downlink  . . . . .   6) s
5 352 M
(       4.1.3.  Reaching saturation . . . . . . . . . . . . . . . . .   7) s
5 341 M
(       4.1.4.  Final "Working Conditions" Algorithm  . . . . . . . .   7) s
5 330 M
(     4.2.  Measuring Responsiveness  . . . . . . . . . . . . . . . .   8) s
5 319 M
(       4.2.1.  Aggregating the Measurements  . . . . . . . . . . . .   9) s
5 308 M
(       4.2.2.  Statistical Confidence  . . . . . . . . . . . . . . .   9) s
5 297 M
(   5.  Interpreting responsiveness results . . . . . . . . . . . . .   9) s
5 286 M
(     5.1.  Elements influencing responsiveness . . . . . . . . . . .  10) s
5 275 M
(       5.1.1.  Client side influence . . . . . . . . . . . . . . . .  10) s
5 264 M
(       5.1.2.  Network influence . . . . . . . . . . . . . . . . . .  10) s
5 253 M
(       5.1.3.  Server side influence . . . . . . . . . . . . . . . .  11) s
5 242 M
(     5.2.  Root-causing Responsiveness . . . . . . . . . . . . . . .  11) s
5 231 M
(   6.  RPM Test Server API . . . . . . . . . . . . . . . . . . . . .  12) s
5 220 M
(   7.  Security Considerations . . . . . . . . . . . . . . . . . . .  13) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 2]) s
_R
S
%%Page: (3) 3
%%BeginPageSetup
_S
24 24 translate
/pagenum 3 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  13) s
5 726 M
(   9.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  13) s
5 715 M
(   10. Informative References  . . . . . . . . . . . . . . . . . . .  13) s
5 704 M
(   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  14) s
5 682 M
(1.  Introduction) s
5 660 M
(   For many years, a lack of responsiveness, variously called lag,) s
5 649 M
(   latency, or bufferbloat, has been recognized as an unfortunate, but) s
5 638 M
(   common symptom in today's networks [Bufferbloat].  Solutions like) s
5 627 M
(   fq_codel [RFC8290] or PIE [RFC8033] have been standardized and are to) s
5 616 M
(   some extent widely implemented.  Nevertheless, people still suffer) s
5 605 M
(   from bufferbloat.) s
5 583 M
(   Although significant, the impact on user experience can be transitory) s
5 572 M
(   - that is, its effect is not always present.  Whenever a network is) s
5 561 M
(   actively being used at its full capacity, buffers can fill up and) s
5 550 M
(   create latency for traffic.  The duration of those full buffers may) s
5 539 M
(   be brief: a medium-sized file transfer, like an email attachment or) s
5 528 M
(   uploading photos, can create bursts of latency spikes.  An example of) s
5 517 M
(   this is lag occurring during a videoconference, where a connection is) s
5 506 M
(   briefly shown as unstable.) s
5 484 M
(   These short-lived disruptions make it hard to narrow down the cause.) s
5 473 M
(   We believe that it is necessary to create a standardized way to) s
5 462 M
(   measure and express responsiveness.) s
5 440 M
(   Existing network measurement tools could incorporate a responsiveness) s
5 429 M
(   measurement into their set of metrics.  Doing so would also raise the) s
5 418 M
(   awareness of the problem and make the standard "network quality) s
5 407 M
(   measures" of throughput, idle latency, and responsiveness.) s
5 385 M
(1.1.  Terminology) s
5 363 M
(   A word about the term "bufferbloat" - the undesirable latency that) s
5 352 M
(   comes from a router or other network equipment buffering too much) s
5 341 M
(   data.  This document uses the term as a general description of bad) s
5 330 M
(   latency, using more precise wording where warranted.) s
5 308 M
(   "Latency" is a poor measure of responsiveness, since it can be hard) s
5 297 M
(   for the general public to understand.  The units are unfamiliar) s
5 286 M
(   \("what is a millisecond?"\) and counterintuitive \("100 msec - that) s
5 275 M
(   sounds good - it's only a tenth of a second!"\).) s
5 253 M
(   Instead, we create the term "Responsiveness under working conditions") s
5 242 M
(   to make it clear that we are measuring all, not just idle,) s
5 231 M
(   conditions, and use "round-trips per minute" as the metric.  The) s
5 220 M
(   advantage of round-trips per minute are two-fold: First, it allows) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 3]) s
_R
S
%%Page: (4) 4
%%BeginPageSetup
_S
24 24 translate
/pagenum 4 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   for a metric that is "the higher the better".  This kind of metric is) s
5 726 M
(   often more intuitive for end-users.  Second, the range of the values) s
5 715 M
(   tends to be around the 4-digit integer range which is also a value) s
5 704 M
(   easy to compare and read, again allowing for a more intuitive use.) s
5 693 M
(   Finally, we abbreviate the measurement to "RPM", a wink to the) s
5 682 M
(   "revolutions per minute" that we use for cars.) s
5 660 M
(   This document defines an algorithm for the "RPM Test" that explicitly) s
5 649 M
(   measures responsiveness under working conditions.) s
5 627 M
(2.  Design Constraints) s
5 605 M
(   There are many challenges around measurements on the Internet.  They) s
5 594 M
(   include the dynamic nature of the Internet, the diverse nature of the) s
5 583 M
(   traffic, the large number of devices that affect traffic, and the) s
5 572 M
(   difficulty of attaining appropriate measurement conditions.) s
5 550 M
(   Internet paths are changing all the time.  Daily fluctuations in the) s
5 539 M
(   demand make the bottlenecks ebb and flow.  To minimize the) s
5 528 M
(   variability of routing changes, it's best to keep the test duration) s
5 517 M
(   relatively short.) s
5 495 M
(   TCP and UDP traffic, or traffic on ports 80 and 443, may take) s
5 484 M
(   significantly different paths on the Internet and be subject to) s
5 473 M
(   entirely different Quality of Service \(QoS\) treatment.  A good test) s
5 462 M
(   will use standard transport layer traffic - typical for people's use) s
5 451 M
(   of the network - that is subject to the transport's congestion) s
5 440 M
(   control that might reduce the traffic's rate and thus its buffering) s
5 429 M
(   in the network.) s
5 407 M
(   Traditionally, one thinks of bufferbloat happening on the routers and) s
5 396 M
(   switches of the Internet.  However, the networking stacks of the) s
5 385 M
(   clients and servers can have huge buffers.  Data sitting in TCP) s
5 374 M
(   sockets or waiting for the application to send or read causes) s
5 363 M
(   artificial latency, and affects user experience the same way as) s
5 352 M
(   "traditional" bufferbloat.) s
5 330 M
(   Finally, it is important to note that queueing only happens behind a) s
5 319 M
(   slow "bottleneck" link in the network, and only occurs when) s
5 308 M
(   sufficient traffic is present.  The RPM Test must ensure that buffers) s
5 297 M
(   are actually full for a sustained period, and only then make repeated) s
5 286 M
(   latency measurements in this particular state.) s
5 264 M
(3.  Goals) s
5 242 M
(   The algorithm described here defines an RPM Test that serves as a) s
5 231 M
(   good proxy for user experience.  This means:) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 4]) s
_R
S
%%Page: (5) 5
%%BeginPageSetup
_S
24 24 translate
/pagenum 5 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   1.  Today's Internet traffic primarily uses HTTP/2 over TLS.  Thus,) s
5 726 M
(       the algorithm should use that protocol.) s
5 704 M
(       As a side note: other types of traffic are gaining in popularity) s
5 693 M
(       \(HTTP/3\) and/or are already being used widely \(RTP\).  Traffic) s
5 682 M
(       prioritization and QoS rules on the Internet may subject traffic) s
5 671 M
(       to completely different paths: these could also be measured) s
5 660 M
(       separately.) s
5 638 M
(   2.  The Internet is marked by the deployment of countless middleboxes) s
5 627 M
(       like transparent TCP proxies or traffic prioritization for) s
5 616 M
(       certain types of traffic.  The RPM Test must take into account) s
5 605 M
(       their effect on DNS-request [RFC1035], TCP-handshake [RFC0793],) s
5 594 M
(       TLS-handshake, and request/response.) s
5 572 M
(   3.  The test result should be expressed in an intuitive, nontechnical) s
5 561 M
(       form.) s
5 539 M
(   4.  Finally, to be useful to a wide audience, the measurement should) s
5 528 M
(       finish within a short time frame.  Our target is 20 seconds.) s
5 506 M
(4.  Measuring Responsiveness Under Working Conditions) s
5 484 M
(   To make an accurate measurement, the algorithm must reliably put the) s
5 473 M
(   network in a state that represents those "working conditions".  Once) s
5 462 M
(   the network has reached that state, the algorithm can measure its) s
5 451 M
(   responsiveness.  The following explains how the former and the latter) s
5 440 M
(   are achieved.) s
5 418 M
(4.1.  Working Conditions) s
5 396 M
(   There are many different ways to define the state of "working) s
5 385 M
(   conditions" to measure responsiveness.  There is no one true answer) s
5 374 M
(   to this question.  It is a tradeoff between using realistic traffic) s
5 363 M
(   patterns and pushing the network to its limits.) s
5 341 M
(   In this document we aim to generate a realistic traffic pattern by) s
5 330 M
(   using standard HTTP transactions but exploring the worst-case) s
5 319 M
(   scenario by creating multiple of these transactions and using very) s
5 308 M
(   large data objects in these HTTP transactions.) s
5 286 M
(   This allows to create a stable state of working conditions during) s
5 275 M
(   which the network is used at its nearly full capacity, without) s
5 264 M
(   generating DoS-like traffic patterns \(e.g., UDP flooding\).  When) s
5 253 M
(   reaching these stable conditions \(called "saturation"\) the latency on) s
5 242 M
(   the network is stable enough to allow to measure the responsiveness) s
5 231 M
(   during that time.  Thus, the algorithm must detect when the network) s
5 220 M
(   is reaching this point of saturation to trigger the latency probes.) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 5]) s
_R
S
%%Page: (6) 6
%%BeginPageSetup
_S
24 24 translate
/pagenum 6 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   Finally, as end-user usage of the network evolves to newer protocols) s
5 726 M
(   and congestion control algorithms, it is important that the working) s
5 715 M
(   conditions also can evolve to continuously represent a realistic) s
5 704 M
(   traffic pattern.) s
5 682 M
(4.1.1.  From single-flow to multi-flow) s
5 660 M
(   A single TCP connection may not be sufficient to reach the capacity) s
5 649 M
(   of a path.  For example, the 4MB constraints on TCP window size) s
5 638 M
(   constraints may not fill the pipe.  Additionally, traditional loss-) s
5 627 M
(   based TCP congestion control algorithms react aggressively to packet) s
5 616 M
(   loss by reducing the congestion window.  This reaction \(intended by) s
5 605 M
(   the protocol design\) decreases the queueing within the network,) s
5 594 M
(   making it hard to reach the path's capacity.) s
5 572 M
(   The goal of the RPM Test is to keep the network in working conditions) s
5 561 M
(   in a sustained and persistent way.  It uses multiple TCP connections) s
5 550 M
(   and gradually adds more TCP flows until saturation is reached.) s
5 528 M
(4.1.2.  Parallel vs Sequential Uplink and Downlink) s
5 506 M
(   Poor responsiveness can be caused by queues in either \(or both\) the) s
5 495 M
(   upstream and the downstream direction.  Furthermore, both paths may) s
5 484 M
(   differ significantly due to access link conditions \(e.g., 5G) s
5 473 M
(   downstream and LTE upstream\) or the routing changes within the ISPs.) s
5 462 M
(   To measure responsiveness under working conditions, the algorithm) s
5 451 M
(   must explore both directions.) s
5 429 M
(   One approach could be to measure responsiveness in the uplink and) s
5 418 M
(   downlink in parallel.  It would allow for a shorter test run-time.) s
5 396 M
(   However, a number of caveats come with measuring in parallel:) s
5 374 M
(   o  Half-duplex links may not permit simultaneous uplink and downlink) s
5 363 M
(      traffic.  This means the test might not reach the path's capacity) s
5 352 M
(      in both directions at once and thus not expose all the potential) s
5 341 M
(      sources of low responsiveness.) s
5 319 M
(   o  Debuggability of the results becomes harder: During parallel) s
5 308 M
(      measurement it is impossible to differentiate whether the observed) s
5 297 M
(      latency happens in the uplink or the downlink direction.) s
5 275 M
(   Thus, we recommend testing uplink and downlink sequentially.) s
5 264 M
(   Parallel testing is considered a future extension.) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 6]) s
_R
S
%%Page: (7) 7
%%BeginPageSetup
_S
24 24 translate
/pagenum 7 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(4.1.3.  Reaching saturation) s
5 715 M
(   The RPM Test gradually increases the number of TCP connections and) s
5 704 M
(   measures "goodput" - the sum of actual data transferred across all) s
5 693 M
(   connections in a unit of time.  When the goodput stops increasing, it) s
5 682 M
(   means that the network is used at its full capacity, meaning the path) s
5 671 M
(   is saturated.  At this point we are creating the worst-case scenario) s
5 660 M
(   within the limits of the realistic traffic pattern.) s
5 638 M
(   The algorithm notes that throughput gradually increases until TCP) s
5 627 M
(   connections complete their TCP slow-start phase.  At that point,) s
5 616 M
(   throughput eventually stalls usually due to receive window) s
5 605 M
(   limitations.  The only means to further increase throughput is by) s
5 594 M
(   adding more TCP connections to the pool of load-generating) s
5 583 M
(   connections.  If new connections leave the throughput the same,) s
5 572 M
(   saturation has been reached and - more importantly - the working) s
5 561 M
(   condition is stable.) s
5 539 M
(4.1.4.  Final "Working Conditions" Algorithm) s
5 517 M
(   The following algorithm reaches working conditions of a network by) s
5 506 M
(   using HTTP/2 upload \(POST\) or download \(GET\) requests of infinitely) s
5 495 M
(   large files.  The algorithm is the same for upload and download and) s
5 484 M
(   uses the same term "load-generating connection" for each.  The) s
5 473 M
(   actions of the algorithm take place at regular intervals.  For the) s
5 462 M
(   current draft the interval is defined as one \(1\) second.) s
5 440 M
(   Where) s
5 418 M
(   o  i: The index of the current interval. i is initialized to 0 when) s
5 407 M
(      the algorithm begins and increases by one for each interval.) s
5 385 M
(   o  instantaneous aggregate goodput at interval p: The number of total) s
5 374 M
(      bytes of data transferred within interval p.  If p is less than 0,) s
5 363 M
(      the number of total bytes of data transferred within the interval) s
5 352 M
(      is considered to be 0.) s
5 330 M
(   o  moving average aggregate goodput at interval p: The average of the) s
5 319 M
(      number of total bytes of data transferred in the instantaneous) s
5 308 M
(      average aggregate goodput at intervals p - x, for all 0<=x<4.) s
5 286 M
(   o  moving average stability during the period between intervals b and) s
5 275 M
(      e: Whether or not the differences between the moving average) s
5 264 M
(      aggregate goodput at interval x and the moving average aggregate) s
5 253 M
(      goodput at interval x+1 \(for all b<=x<e\) is less than 5%.) s
5 231 M
(   the steps of the algorithm are:) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 7]) s
_R
S
%%Page: (8) 8
%%BeginPageSetup
_S
24 24 translate
/pagenum 8 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   o  Create four \(4\) load-generating connections.) s
5 715 M
(   o  At each interval:) s
5 693 M
(      *  Compute the instantaneous aggregate goodput at interval i.) s
5 671 M
(      *  Compute the moving average aggregate goodput at interval i.) s
5 649 M
(      *  If the moving average aggregate goodput at interval i is more) s
5 638 M
(         than a 5% increase over the moving average aggregate goodput at) s
5 627 M
(         interval i - 1, the network has not yet reached saturation.) s
5 605 M
(         +  If no load-generating connections have been added within the) s
5 594 M
(            last four \(4\) intervals, add four \(4\) more load-generating) s
5 583 M
(            connections.) s
5 561 M
(      *  Else, the network has reached saturation with the existing) s
5 550 M
(         load-generating connections.  The current state is a candidate) s
5 539 M
(         for stable working conditions.) s
5 517 M
(         +  If a\) there have been load-generating connections added in) s
5 506 M
(            the past four \(4\) intervals and b\) there has been moving) s
5 495 M
(            average stability during the period between intervals i-4) s
5 484 M
(            and i, then the network has reached stable saturation and) s
5 473 M
(            the algorithm terminates.) s
5 451 M
(         +  Otherwise, add four \(4\) more load-generating connections.) s
5 429 M
(   In Section 3, it is mentioned that one of the goals is that the test) s
5 418 M
(   finishes within 20 seconds.  It is left to the implementation what to) s
5 407 M
(   do when saturation is not reached within that time-frame.  For) s
5 396 M
(   example, an implementation might gather a provisional responsiveness) s
5 385 M
(   measurement or let the test run for longer.) s
5 363 M
(   Note: It is tempting to envision an initial base round-trip time) s
5 352 M
(   \(RTT\) measurement and adjust the intervals as a function of that RTT.) s
5 341 M
(   However, experiments have shown that this makes the saturation) s
5 330 M
(   detection extremely unstable in low RTT environments.  In the) s
5 319 M
(   situation where the "unloaded" RTT is in the single-digit millisecond) s
5 308 M
(   range, yet the network's RTT increases under load to more than a) s
5 297 M
(   hundred milliseconds, the intervals become much too low to accurately) s
5 286 M
(   drive the algorithm.) s
5 264 M
(4.2.  Measuring Responsiveness) s
5 242 M
(   Once the network is in a consistent working conditions, the RPM Test) s
5 231 M
(   must "probe" the network multiple times to measure its) s
5 220 M
(   responsiveness.) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 8]) s
_R
S
%%Page: (9) 9
%%BeginPageSetup
_S
24 24 translate
/pagenum 9 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   Each RPM Test probe measures:) s
5 715 M
(   1.  The responsiveness of the different steps to create a new) s
5 704 M
(       connection, all during working conditions.) s
5 682 M
(       To do this, the test measures the time needed to make a DNS) s
5 671 M
(       request, establish a TCP connection on port 443, establish a TLS) s
5 660 M
(       context using TLS1.3 [RFC8446], and send and receive a one-byte) s
5 649 M
(       object with a HTTP/2 GET request.  It repeats these steps) s
5 638 M
(       multiple times for accuracy.) s
5 616 M
(   2.  The responsiveness of the network and the client/server) s
5 605 M
(       networking stacks for the load-generating connections themselves.) s
5 583 M
(       To do this, the load-generating connections multiplex an HTTP/2) s
5 572 M
(       GET request for a one-byte object to get the end-to-end latency) s
5 561 M
(       on the connections that are using the network at full speed.) s
5 539 M
(4.2.1.  Aggregating the Measurements) s
5 517 M
(   The algorithm produces sets of 5 times for each probe, namely: DNS) s
5 506 M
(   handshake, TCP handshake, TLS handshake, HTTP/2 request/response on) s
5 495 M
(   separate \(idle\) connections, HTTP/2 request/response on load-) s
5 484 M
(   generating connections.  This fine-grained data is useful, but not) s
5 473 M
(   necessary for creating a useful metric.) s
5 451 M
(   To create a single "Responsiveness" \(e.g., RPM\) number, this first) s
5 440 M
(   iteration of the algorithm gives an equal weight to each of these) s
5 429 M
(   values.  That is, it sums the five time values for each probe, and) s
5 418 M
(   divides by the total number of probes to compute an average probe) s
5 407 M
(   duration.  The reciprocal of this, normalized to 60 seconds, gives) s
5 396 M
(   the Round-trips Per Minute \(RPM\).) s
5 374 M
(4.2.2.  Statistical Confidence) s
5 352 M
(   The number of probes necessary for statistical confidence is an open) s
5 341 M
(   question.  One could imagine a computation of the variance and) s
5 330 M
(   confidence interval that would drive the number of measurements and) s
5 319 M
(   balance the accuracy with the speed of the measurement itself.) s
5 297 M
(5.  Interpreting responsiveness results) s
5 275 M
(   The described methodology uses a high-level approach to measure) s
5 264 M
(   responsiveness.  By executing the test with regular HTTP requests a) s
5 253 M
(   number of elements come into play that will influence the result.) s
5 242 M
(   Contrary to more traditional measurement methods the responsiveness) s
5 231 M
(   metric is not only influenced by the properties of the network but) s
5 220 M
(   can significantly be influenced by the properties of the client and) s
5 176 M
(Paasch, et al.          Expires September 5, 2022               [Page 9]) s
_R
S
%%Page: (10) 10
%%BeginPageSetup
_S
24 24 translate
/pagenum 10 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   the server implementations.  This section describes how the different) s
5 726 M
(   elements influence responsiveness and how a user may differentiate) s
5 715 M
(   them when debugging a network.) s
5 693 M
(5.1.  Elements influencing responsiveness) s
5 671 M
(   Due to the HTTP-centric approach of the measurement methodology a) s
5 660 M
(   number of factors come into play that influence the results.  Namely,) s
5 649 M
(   the client-side networking stack \(from the top of the HTTP-layer all) s
5 638 M
(   the way down to the physical layer\), the network \(including potential) s
5 627 M
(   transparent HTTP "accelerators"\), and the server-side networking) s
5 616 M
(   stack.  The following outlines how each of these contributes to the) s
5 605 M
(   responsiveness.) s
5 583 M
(5.1.1.  Client side influence) s
5 561 M
(   As the driver of the measurement, the client-side networking stack) s
5 550 M
(   can have a large influence on the result.  The biggest influence of) s
5 539 M
(   the client comes when measuring the responsiveness in the uplink) s
5 528 M
(   direction.  Load-generation will cause queue-buildup in the transport) s
5 517 M
(   layer as well as the HTTP layer.  Additionally, if the network's) s
5 506 M
(   bottleneck is on the first hop, queue-buildup will happen at the) s
5 495 M
(   layers below the transport stack \(e.g., NIC firmware\).) s
5 473 M
(   Each of these queue build-ups may cause latency and thus low) s
5 462 M
(   responsiveness.  A well-designed networking stack would ensure that) s
5 451 M
(   queue-buildup in the TCP layer layer is kept at a bare minimum with) s
5 440 M
(   solutions like TCP_NOTSENT_LOWAT [draft-ietf-tcpm-rfc793bis].  At the) s
5 429 M
(   HTTP/2 layer it is important that the load-generating data is not) s
5 418 M
(   interfering with the latency-measuring probes.  For example, the) s
5 407 M
(   different streams should not be stacked one after the other but) s
5 396 M
(   rather be allowed to be multiplexed for optimal latency.  The queue-) s
5 385 M
(   buildup at these layers would only influence latency on the probes) s
5 374 M
(   that are sent on the load-generating connections.) s
5 352 M
(   Below the transport layer many places have a potential queue build-) s
5 341 M
(   up.  It is important to keep these queues at reasonable sizes or that) s
5 330 M
(   they implement techniques like FQ-Codel.  Depending on the techniques) s
5 319 M
(   used at these layers, the queue build-up can influence latency on) s
5 308 M
(   probes sent on load-generating connections as well as separate) s
5 297 M
(   connections.  If flow-queuing is used at these layers, the impact on) s
5 286 M
(   separate connections will be negligible.) s
5 264 M
(5.1.2.  Network influence) s
5 242 M
(   The network obviously is a large driver for the responsiveness) s
5 231 M
(   result.  Propagation delay from the client to the server as well as) s
5 220 M
(   queuing in the bottleneck node will cause latency.  Beyond these) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 10]) s
_R
S
%%Page: (11) 11
%%BeginPageSetup
_S
24 24 translate
/pagenum 11 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   traditional sources of latency, other factors may influence the) s
5 726 M
(   results as well.  Many networks deploy transparent TCP Proxies,) s
5 715 M
(   firewalls doing deep packet-inspection, HTTP "accelerators",... As) s
5 704 M
(   the methodology relies on the use of HTTP/2, the responsiveness) s
5 693 M
(   metric will be influenced by such devices as well.) s
5 671 M
(   The network will influence both kinds of latency probes that the) s
5 660 M
(   responsiveness tests sends out.  Depending on the network's use of) s
5 649 M
(   Smart Queue Management and whether this includes flow-queuing or not,) s
5 638 M
(   the latency probes on the load-generating connections may be) s
5 627 M
(   influenced differently than the probes on the separate connections.) s
5 605 M
(5.1.3.  Server side influence) s
5 583 M
(   Finally, the server-side introduces the same kind of influence on the) s
5 572 M
(   responsiveness as the client-side.  With the difference that the) s
5 561 M
(   responsiveness will be impacted during the downlink load generation.) s
5 539 M
(5.2.  Root-causing Responsiveness) s
5 517 M
(   Once an RPM result has been generated one might be tempted to try to) s
5 506 M
(   localize the source of a potential low responsiveness.  The) s
5 495 M
(   responsiveness measurement is however aimed at providing a quick,) s
5 484 M
(   top-level view of the responsiveness under working conditions the way) s
5 473 M
(   end-users experience it.  Localizing the source of low responsiveness) s
5 462 M
(   involves however a set of different tools and methodologies.) s
5 440 M
(   Nevertheless, the responsiveness test allows to gain some insight) s
5 429 M
(   into what the source of the latency is.  The previous section) s
5 418 M
(   described the elements that influence the responsiveness.  From there) s
5 407 M
(   it became apparent that the latency measured on the load-generating) s
5 396 M
(   connections and the latency measured on separate connections may be) s
5 385 M
(   different due to the different elements.) s
5 363 M
(   For example, if the latency measured on separate connections is much) s
5 352 M
(   less than the latency measured on the load-generating connections, it) s
5 341 M
(   is possible to narrow down the source of the additional latency on) s
5 330 M
(   the load-generating connections.  As long as the other elements of) s
5 319 M
(   the network don't do flow-queueing, the additional latency must come) s
5 308 M
(   from the queue build-up at the HTTP and TCP layer.  This is because) s
5 297 M
(   all other bottlenecks in the network that may cause a queue build-up) s
5 286 M
(   will be affecting the load-generating connections as well as the) s
5 275 M
(   separate latency probing connections in the same way.) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 11]) s
_R
S
%%Page: (12) 12
%%BeginPageSetup
_S
24 24 translate
/pagenum 12 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(6.  RPM Test Server API) s
5 715 M
(   The RPM measurement uses standard protocols: no new protocol is) s
5 704 M
(   defined.) s
5 682 M
(   Both the client and the server MUST support HTTP/2 over TLS 1.3.  The) s
5 671 M
(   client MUST be able to send a GET request and a POST.  The server) s
5 660 M
(   MUST be able to respond to both of these HTTP commands.  Further, the) s
5 649 M
(   server endpoint MUST be accessible through a hostname that can be) s
5 638 M
(   resolved through DNS.  The server MUST have the ability to provide) s
5 627 M
(   content upon a GET request.  Both client and server SHOULD use loss-) s
5 616 M
(   based congestion controls like Cubic.  The server MUST use a packet) s
5 605 M
(   scheduling algorithm that minimizes internal queueing to avoid) s
5 594 M
(   affecting the client's measurement.) s
5 572 M
(   The server MUST respond to 4 URLs:) s
5 550 M
(   1.  A "small" URL/response: The server must respond with a status) s
5 539 M
(       code of 200 and 1 byte in the body.  The actual body content is) s
5 528 M
(       irrelevant.) s
5 506 M
(   2.  A "large" URL/response: The server must respond with a status) s
5 495 M
(       code of 200 and a body size of at least 8GB.  The body can be) s
5 484 M
(       bigger, and may need to grow as network speeds increases over) s
5 473 M
(       time.  The actual body content is irrelevant.  The client will) s
5 462 M
(       probably never completely download the object, but will instead) s
5 451 M
(       close the connection after reaching working condition and making) s
5 440 M
(       its measurements.) s
5 418 M
(   3.  An "upload" URL/response: The server must handle a POST request) s
5 407 M
(       with an arbitrary body size.  The server should discard the) s
5 396 M
(       payload.) s
5 374 M
(   4.  A configuration URL that returns a JSON [RFC8259] object with the) s
5 363 M
(       information the client uses to run the test \(sample below\).) s
5 352 M
(       Sample JSON:) s
5 308 M
({) s
5 297 M
(  "version": 1,) s
5 286 M
(  "urls": {) s
5 275 M
(    "small_https_download_url": "https://networkquality.example.com/api/v1/small",) s
5 264 M
(    "large_https_download_url": "https://networkquality.example.com/api/v1/large",) s
5 253 M
(    "https_upload_url": "https://networkquality.example.com/api/v1/upload") s
5 242 M
(  }) s
5 231 M
(}) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 12]) s
_R
S
%%Page: (13) 13
%%BeginPageSetup
_S
24 24 translate
/pagenum 13 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   The client begins the responsiveness measurement by querying for the) s
5 726 M
(   JSON configuration.  This supplies the URLs for creating the load-) s
5 715 M
(   generating connections in the upstream and downstream direction as) s
5 704 M
(   well as the small object for the latency measurements.) s
5 682 M
(7.  Security Considerations) s
5 660 M
(   TBD) s
5 638 M
(8.  IANA Considerations) s
5 616 M
(   TBD) s
5 594 M
(9.  Acknowledgments) s
5 572 M
(   We would like to thank Rich Brown for his editorial pass over this) s
5 561 M
(   I-D.  We also thank Erik Auerswald and Will Hawkins for their) s
5 550 M
(   constructive feedback on the I-D.) s
5 528 M
(10.  Informative References) s
5 506 M
(   [Bufferbloat]) s
5 495 M
(              Gettys, J. and K. Nichols, "Bufferbloat: Dark Buffers in) s
5 484 M
(              the Internet", Communications of the ACM, Volume 55,) s
5 473 M
(              Number 1 \(2012\) , n.d..) s
5 451 M
(   [draft-ietf-tcpm-rfc793bis]) s
5 440 M
(              Eddy, W., "Transmission Control Protocol \(TCP\)) s
5 429 M
(              Specification", Internet Engineering Task Force , n.d..) s
5 407 M
(   [RFC0793]  Postel, J., "Transmission Control Protocol", STD 7,) s
5 396 M
(              RFC 793, DOI 10.17487/RFC0793, September 1981,) s
5 385 M
(              <https://www.rfc-editor.org/info/rfc793>.) s
5 363 M
(   [RFC1035]  Mockapetris, P., "Domain names - implementation and) s
5 352 M
(              specification", STD 13, RFC 1035, DOI 10.17487/RFC1035,) s
5 341 M
(              November 1987, <https://www.rfc-editor.org/info/rfc1035>.) s
5 319 M
(   [RFC8033]  Pan, R., Natarajan, P., Baker, F., and G. White,) s
5 308 M
(              "Proportional Integral Controller Enhanced \(PIE\): A) s
5 297 M
(              Lightweight Control Scheme to Address the Bufferbloat) s
5 286 M
(              Problem", RFC 8033, DOI 10.17487/RFC8033, February 2017,) s
5 275 M
(              <https://www.rfc-editor.org/info/rfc8033>.) s
5 253 M
(   [RFC8259]  Bray, T., Ed., "The JavaScript Object Notation \(JSON\) Data) s
5 242 M
(              Interchange Format", STD 90, RFC 8259,) s
5 231 M
(              DOI 10.17487/RFC8259, December 2017,) s
5 220 M
(              <https://www.rfc-editor.org/info/rfc8259>.) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 13]) s
_R
S
%%Page: (14) 14
%%BeginPageSetup
_S
24 24 translate
/pagenum 14 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   [RFC8290]  Hoeiland-Joergensen, T., McKenney, P., Taht, D., Gettys,) s
5 726 M
(              J., and E. Dumazet, "The Flow Queue CoDel Packet Scheduler) s
5 715 M
(              and Active Queue Management Algorithm", RFC 8290,) s
5 704 M
(              DOI 10.17487/RFC8290, January 2018,) s
5 693 M
(              <https://www.rfc-editor.org/info/rfc8290>.) s
5 671 M
(   [RFC8446]  Rescorla, E., "The Transport Layer Security \(TLS\) Protocol) s
5 660 M
(              Version 1.3", RFC 8446, DOI 10.17487/RFC8446, August 2018,) s
5 649 M
(              <https://www.rfc-editor.org/info/rfc8446>.) s
5 627 M
(Authors' Addresses) s
5 605 M
(   Christoph Paasch) s
5 594 M
(   Apple Inc.) s
5 583 M
(   One Apple Park Way) s
5 572 M
(   Cupertino, California 95014) s
5 561 M
(   United States of America) s
5 539 M
(   Email: cpaasch@apple.com) s
5 506 M
(   Randall Meyer) s
5 495 M
(   Apple Inc.) s
5 484 M
(   One Apple Park Way) s
5 473 M
(   Cupertino, California 95014) s
5 462 M
(   United States of America) s
5 440 M
(   Email: rrm@apple.com) s
5 407 M
(   Stuart Cheshire) s
5 396 M
(   Apple Inc.) s
5 385 M
(   One Apple Park Way) s
5 374 M
(   Cupertino, California 95014) s
5 363 M
(   United States of America) s
5 341 M
(   Email: cheshire@apple.com) s
5 308 M
(   Omer Shapira) s
5 297 M
(   Apple Inc.) s
5 286 M
(   One Apple Park Way) s
5 275 M
(   Cupertino, California 95014) s
5 264 M
(   United States of America) s
5 242 M
(   Email: oesh@apple.com) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 14]) s
_R
S
%%Page: (15) 15
%%BeginPageSetup
_S
24 24 translate
/pagenum 15 def
/fname (draft-cpaasch-ippm-responsiveness.txt) def
/fdir (.) def
/ftail (draft-cpaasch-ippm-responsiveness.txt) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
5 770 M
(Internet-Draft   Responsiveness under Working Conditions      March 2022) s
5 737 M
(   Matt Mathis) s
5 726 M
(   Google, Inc) s
5 715 M
(   1600 Amphitheatre Parkway) s
5 704 M
(   Mountain View, CA  94043) s
5 693 M
(   United States of America) s
5 671 M
(   Email: mattmathis@google.com) s
5 176 M
(Paasch, et al.          Expires September 5, 2022              [Page 15]) s
_R
S
%%Trailer
%%Pages: 15
%%DocumentNeededResources: font Courier-Bold Courier 
%%EOF
